<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>

<head>
	<meta http-equiv="content-type" content="text/html;charset=ISO-8859-1">
	<title>FEA Boundary Conditions</title>
	<link rel="stylesheet" type="text/css" href="../help.css">
</head>

<body>

<p class="links">
<a href="../index.html">Home</a> &rarr;
<a href="index.html#feacontents">FEA XML File Contents</a>
</p>

<h1>FEA Boundary Conditions</h1>

<p>FEA calculations require mesh-based boundary conditions. There are two ways to specify the boundary conditions. One way is to <a href="#sec1">explicitly list</a> each nodal point displacement, each nodal point load, and each element edge stress. The other approach is to use <code>XML</code> commands that <a href="#sec2">generate</a> the boundary conditions. This method is usually done in conjuction with commands that <a href="definefeamesh.html#sec2">generate the mesh</a>.</p>

<p>Each type of boundary condition creation must be subordinate to a <code>&lt;GridBCs&gt;</code> element. Although the two methods can be mixed, they are normally not mixed. Only one <code>&lt;GridBCs&gt;</code> element is allowed in the input file.</p>

<a name="sec1"></a><h2>Explicit Boundary Condition Definition</h2>

<p>One way to define nodal displacement, nodal load, or element edge stress boundary conditions is to explicit list each one. The general format is

<pre>
&lt;GridBCs&gt;
   &lt;<a href="#Cracktip"><code>Cracktip</code></a> x='0' y='0'/&gt;
   
   &lt;<a href="#DisplacementBCs"><code>DisplacementBCs</code></a>&gt;
     &lt;fix node='24' dof='2'&gt;0&lt;/fix&gt;
     &lt;rotate node='5' axis='3'&gt;45&lt;/rotate&gt;
   &lt;/DisplacementBCs&gt;
   
   &lt;<a href="#LoadBCs"><code>LoadBCs</code></a>&gt;
     &lt;load node='5' dof='1'&gt;45&lt;/load&gt;
     &lt;rotate node='5' axis='3'&gt;45&lt;/rotate&gt;
   &lt;/LoadBCs&gt;
   
   &lt;<a href="#EdgeBCs"><code>EdgeBCs</code></a>&gt;
     &lt;stress elem='3' face='1' dir='1'&gt;0,100&lt;/load&gt;
   &lt;/EdgeBCs&gt;
   
   &lt;<a href="#Periodic"><code>Periodic</code></a> dof='x' delta='1' slope='0'/&gt;
   &lt;<a href="#Periodic"><code>Periodic</code></a> dof='y' delta='1' shear='0'/&gt;

   &lt;<a href="#Resequence"><code>Resequence</code></a> x='0' y='0'/&gt;
&lt;/GridBCs&gt;

</pre>


<p>where the the various sections set different types of boundary conditions.
</p>

 
<dt><a name="Periodic"></a>&lt;Periodic&gt;</dt>
<dd>This options runs calculations that are periodic in strain in just the <code>x</code> direction, just the <code>y</code> direction, or in both the <code>x</code> and <code>y</code> directions. For axisymmetric problems the calculations can only be periodic in the <code>z</code> direction. Many researchers use symmetry-based displacement conditions for periodic calculations, but that approach cannot handle problems where plane sections do not remain plane even though the structure and strains are still periodic. These periodic conditions are more advanced than such symmetry conditions and essential for some problems such as shear strain applied to a periodic composite material.

<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The <code>dof</code> attribute defines the periodic direction. It must be <code>x</code> (or 1) or <code>y</code> (or 2) or <code>z</code> (or 3). The <code>delta</code>, <code>slope</code>, and <code>shear</code> attributes let you specify an average displacement jump, rotation, and/or shear between the two ends in the periodic direction(s). If any are left unspecified, they will be degrees of freedom. When specified, they correspond to globally applied strains or rotation. The meanings of the parameters are slightly different depending on whether just one direction or both directions are periodic:

<br><br><table border="1" cellspacing="0" cellpadding="3">
<tr><th>Periodicity</th>
<th>x Delta</th>
<th>x Slope/<br>Shear</th>
<th>y Delta</th>
<th>y Slope/<br>Shear</th>
<th>Global Strains or Rotation</th>
</tr>

<tr>
<td>x only</td>
<td>du</td>
<td>d(du)/dy</td>
<td>n.a.</td>
<td>n.a.</td>
<td>&lt;&epsilon;<sub>xx</sub>&gt; = du/&Delta;x, d(du)/dy=slope of displacement jump over &Delta;x</td>
</tr>

<tr>
<td>y only</td>
<td>n.a.</td>
<td>n.a.</td>
<td>dv</td>
<td>d(dv)/dx</td>
<td>&lt;&epsilon;<sub>yy</sub>&gt; = dv/&Delta;y, d(dv)/dx=slope of displacement jump over &Delta;y</td>
</tr>

<tr>
<td>x and y</td>
<td>du</td>
<td>dudy</td>
<td>dv</td>
<td>dvdx</td>
<td>&lt;&epsilon;<sub>xx</sub>&gt; = du/&Delta;x, 
&lt;&epsilon;<sub>yy</sub>&gt; = dv/&Delta;y,
&lt;&gamma;<sub>xy</sub>&gt; = dudy/&Delta;y + dvdx/&Delta;x</td>
</tr>

<tr>
<td>z only</td>
<td>n.a.</td>
<td>n.a.</td>
<td>dw</td>
<td>0</td>
<td>&lt;&epsilon;<sub>zz</sub>&gt; = dw/&Delta;z, 0=slope of displacement jump over &Delta;z</td>
</tr>

</table>

<br>Here &Delta;x, &Delta;y, and &Delta;z are the length of the body in the <code>x</code>, <code>y</code>, and <code>z</code> directions. Note that <code>slope</code> and <code>shear</code> are actually the same attribute. When only one direction is periodic, <code>slope</code> is the more accurate term and it refers to slope of the displacement difference between the two ends as a function of the other coordinate; it causes relative rotation between the two ends. When there is <code>x</code> and <code>y</code> periodicity, <code>shear</code> is the more accurate term. The <code>shear</code> attribute for the <code>x</code> dof is the jump in the <code>x</code>-direction displacement across the <code>y</code> direction of the specimen while the <code>shear</code> attribute in the <code>y</code> dof is the jump and <code>y</code> direction displacement across the <code>x</code> direction of the specimen. If both are set, these two quantities can be used to set the global shear strain on the specimen.

<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For axisymmetric problems, rotations on the ends are not allowed due to physical contraints caused by the need for periodicity in &epsilon;<sub>&theta;&theta;</sub>. Thus, for all axisymmetric problems, the slope attribute must be zero. If it is not set, it will automatically be set to zero for you. In addition, it does not make sense to be periodic and the <code>r</code> direction and thus that setting is not allowed.

<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For periodicity to work, the edges of the specimen on the two ends of the periodic direction(s) must be orthognal to that direction, they must each have the same number of nodes, and the orthogonal coordinate (<i>e.g.</i>, the <code>y</code> coordinate for <code>x</code> periodicity, the <code>x</code> coordinate for <code>y</code> periodicity, or the <code>r</code> coordinate for <code>z</code> periodicity) of each node on one side must match the corresponding node on the other side.
</dd>

<dt><a name="Resequence"></a>&lt;Resequence&gt;</dt>
<dd>Finite element analysis is more efficient if the nodes are numbered to minimize bandwidth of the problem. This command will resequence the nodes for minimum bandwidth. The resequencing will start at the node closest to the (x,y) coordinates provided in the x and y attributes. It is best to resequence from a node on a corner of the object.
Another use of this command is to verify mesh connectivity. Since disconnected sections of a static FEA mesh will cause a singular stiffness matrix, the calculations will fail. This command will find such connectivity problems before the calculations start.
</dd>

</dl>

<a name="sec2"></a><h2>Generated Boundary Condition Definition</h2>

<p>Alternatively, all boundary conditions can be generated with <code>&lt;BCLine&gt;</code>, <code>&lt;BCPt&gt;</code>, and <code>&lt;Resequence&gt;</code> commands as follows:
</p>

<pre>
&lt;GridBCs&gt;
   &lt;<a href="#Cracktip"><code>Cracktip</code></a> keypt='tip'/&gt;
   
   &lt;<a href="#BCLine"><code>BCLine</code></a> x1='0' y1='10' x2='0' y2='20' tolerance='.01'&gt;
     &lt;DisBC dof='1' disp='.01'/&gt;
     &lt;LoadBC dof='2' function='x^2-3'/&gt;
     &lt;rotate axis='3' angle='45'/&gt;
   &lt;/BCLine&gt;
   
   &lt;BCLine path='top' select='1'&gt;
     &lt;StressBC dir='2' stress='100'/&gt;
     ...
   &lt;/BCLine&gt;
   
   &lt;<a href="#BCPt"><code>BCPt</code></a> x='0' y='10' select='1'&gt;
     ...
   &lt;/BCPt&gt;
   
   &lt;BCPt keypt='upperright'&gt;
     ...
   &lt;/BCPt&gt;
   
   &lt;<a href="#Periodic"><code>Periodic</code></a> dof='x' delta='1' slope='0'/&gt;
   &lt;<a href="#Periodic"><code>Periodic</code></a> dof='y' delta='1' shear='0'/&gt;

   &lt;<a href="#ResequenceG"><code>Resequence</code></a> keypt='lowerleft'/&gt;
&lt;/GridBCs&gt;
</pre>

<p>The main boundary condition commands in the <code>&lt;GridBCs&gt;</code> section are shape commands. With each shape commands that define a shape. Subordinate to each shape command there can be any number of boundary conditions commands to set a boundary condition on all nodes defined by that shape. The shape commands are:</p>

<dl>


<dt><a name="BCLine"></a>&lt;BCLine&gt;</dt>
<dd>Assign boundary condition at nodes along a defined line from (<code>x1,y1</code>) to (<code>x2,y2</code>) or along a previously defined path (in <code>path</code> attribute). The command can define a line or a path, but not both. When defining a line, the option <code>tolerance</code> finds all nodes within that distance of the line. If <code>tolerance</code> is omitted, only nodes very close to the line will be found. See subordinate commands below for information on setting specific boundary conditions. An optional <code>select='1'</code> tag can be used to select all nodes along the line or path for <a href="header.html#output">conditional output</a>.</dd>


<dt><a name="BCPt"></a>&lt;BCPt&gt;</dt>
<dd>Assign boundary conditions to the node closed to the point (<code>x,y</code>) or at a previously defined keypoint (in <code>keypt</code> attribute). The command can define a point or a keypoint, but not both. See subordinate commands below for information on setting specific boundary conditions. An optional <code>select='1'</code> tag can be used to select the node for <a href="header.html#output">conditional output</a>.</dd>
</dl>

<p><p>Commands subordinate to any of th above shape commands can set specific boundary conditions. There should be only one boundary condition for each degree of freedom on a shape. For example, do not fix <code>x</code> displacement and also apply load in the <code>x</code> direction on same shape. If the nodes are rotated, they should be rotated before applying boundary conditions. The possible commands are:
</p>

<dl>


<dt>&lt;DisBC&gt;</dt>
<dd>Set fixed displacement in one direction to all nodes defined by the shape. The <code>dof</code> can be 1 or <code>x</code> for x axis or 2 or <code>y</code> for y axis. The optional <code>disp</code> sets the magnitude of the displacement in mm. Alternatively, the displacement can be specified with a <code>function</code> attribute set to a <a href="function.html">user-defined function</a> of nodal point position (<code>x</code> and <code>y</code> in mm). When a <code>function</code> is used, it overrides and <code>disp</code> setting. If both <code>disp</code> and <code>function</code> are omitted, the displacement is set to zero. 
<br>
&nbsp;&nbsp;&nbsp;&nbsp;Nodes located at <code>r=0</code> in axisymmetric analysis cannot move thus should be fixed in the 1 or x direction. Any such nodes not fixed by a boundary condition will automatically be fixed for you.
</dd>

<dt>&lt;LoadBC&gt;</dt>
<dd>Apply load in one direction to all nodes along a path or one node at a point. The <code>dof</code> can be 1 or <code>x</code> for x axis or 2 or <code>y</code> for y axis. The load to apply is specified in a <code>load</code> attribute in Newtons. Alternatively, the load can be specified with a <code>function</code> attribute set to a <a href="function.html">user-defined function</a> of nodal point position (<code>x</code> and <code>y</code> in mm). When a <code>function</code> is used, it overrides and <code>load</code> setting.</dd>

<dt>&lt;StressBC&gt;</dt>
<dd>Apply stress in one direction to edges of all elements along a path (<i>i.e.</i>, it can only be used by in a <a href="#BCLine"><code>BCLine</code></a> defined using a path). The stress can be normal (with <code>dir</code> of 1 or <code>n</code>) or tangential to the edges (with <code>dir</code> of 2 or <code>t</code>). The stress is specifed in MPa in a <code>stress</code> attribute. There can be 1 to 3 comma delimited stresses. One gives a constant stress, two gives linear variation in stress between path end points, and three allows a quadratic variation in stress through those three values. The stress currently cannot be set with a <a href="function.html">user-defined function</a>, but that option could be added if needed,</dd>

<dt>&lt;rotate&gt;</dt>
<dd>This command lets you rotate the degrees of freedom at all nodes  defined by the shape. Enter the rotation <code>axis</code> (which must be 3 or <code>z</code> for 2D problems) and the clockwise rotation <code>angle</code> in degrees. Once node(s) are rotated, you can specify displacement or load boundary conditions in the rotated coordinates. Rotation does not affect stress boundary conditions.</dd>

</dl>

<p>Other command that may be in the <code>&lt;GridBCs&lt;</code> section are:
</p>

<dl>


<dt>&lt;Periodic&gt;</dt>
<dd>See <a href="#Periodic">Periodic</a> description above.</dd>

<dt><a name="ResequenceG"></a>&lt;Resequence&gt;</dt>
<dd>See <a href="#Resequence">description above</a> for details. When the mesh is generated with keypoints, this command additionally allows the node for starting resequencing to be given by keypoint in a <code>keypt</code> attribute. The (<code>x,y</code>) coordinates option <a href="#Resequence">defined above</a> is allowed too.
</dd>

</dl>



<p class="links">
<a href="../index.html">Home</a> &rarr;
<a href="index.html#feacontents">FEA XML File Contents</a>
</p>

</body>

</html>