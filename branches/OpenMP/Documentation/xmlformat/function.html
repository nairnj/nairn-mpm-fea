<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>

<head>
	<meta http-equiv="content-type" content="text/html;charset=ISO-8859-1">
	<title>User Functions</title>
	<link rel="stylesheet" type="text/css" href="../help.css">
</head>

<body>

<p class="links">
<a href="../index.html">Home</a> &rarr;
<a href="index.html#feacontents">FEA XML File Contents</a> /

<a href="index.html#contents">MPM XML File Contents</a>
</p>

<h1>User Functions</h1>

<p class="osupdocs">Deprecated documentation: the new version is in the <a href="http://osupdocs.forestry.oregonstate.edu/index.php/User_Defined_Functions">OSUPDocs wiki</a></p>

<p>Some commands let you set properties using a function. When a function option is allowed, enter a valid function of <code>x</code>, <code>y</code>, <code>z</code> (postions in mm), <code>t</code> (time in ms), <code>q</code> (particle rotation in radians about <code>z</code> axis), <code>D</code>, <code>T</code> (polar coordinates in <code>x</code>-<code>y</code> plane in radians and mm), <code>R</code>, or <code>Z</code> (axisymmetric positions in mm). The function will be evaluated at the relevant position, time, <i>etc.</i>, to calculate the value of the property to be assigned. Not all variables can be used for all functions. Refer to the command that allows a function to see what variables are allowed.</p>

<p> The time options is for MPM options that allow the function to depend on time. Some MPM options (as detailed in their documentation) require the function to depend <i>only</i> on time. Particle based MPM boundary conditions let the function depend on clockwise particle rotational angle <code>q</code> (in radians), which allows rotation of the bondary conditions with the particle. Note that <code>q</code> is particle rotation since the start of the simulation and will differ from material angle if the particle started with a non-zero orientation angle (the current material angle is the sum of <code>q</code> and its initial angle) (<font color="red">warning</font>: this definition of <code>q</code> was changed in version 8.0.1, while before <code>q</code> was the sum of initial angle snd rotation angle).
</p>

<p>For 3D MPM, <code>z</code> refers to the <code>z</code> coordinate. For 2D axisymmetric analyses, <code>R</code> and <code>Z</code> refer to radial and axial positions in the 2D plane (although <code>x</code> and <code>y</code> will work too). If a polar function is more appropriate for 2D analysis, the function can be of <code>D</code> and <code>T</code>, where <code>D</code> is distance from the origin to the <code>(x,y)</code> point (in mm) and <code>T</code> is counter-clockwise angle (in radians) from the positive <code>x</code> axis to the point.
</p>

<p>Some details on entering functions are:</p>
<ul>
<li>Operators: The function uses standard operators + - * / and ^ with standard operator precedence.
</li>

<li>The function can contain the following defined functions:
<ul class="lev2">


<li><code>sin(x)</code>, <code>cos(x)</code>, and <code>tan(x)</code> - trigonometric function of angle in radians.
</li>

<li><code>asin(x)</code>, <code>acos(x)</code>, and <code>atan(x)</code> - inverse trigonometric function with result in radians.
</li>

<li><code>sqrt(x)</code> - square root.
</li>

<li><code>log(x)</code> and <code>ln(x)</code> - log base 10 and natural log, respectively.
</li>

<li><code>exp(x)</code> - exponential of <code>x</code>.
</li>

<li><code>abs(x)</code> - absolute value of <code>x</code>.
</li>

<li><code>int(x)</code> - integer part of <code>x</code> as next lower integer. For negative numbers, it is next lower integer or <code>int(-3.4)=-4</code>.

<li><code>sign(x)</code> - 1 if <code>x</code> is greater than zero or 0 if <code>x</code> is negative or equal to zero.

<li><code>Sinh(x)</code>, <code>Cosh(x)</code>, and <code>Tanh(x)</code> - hyperbolic trigonometric functions. The initial upper case letter is needed to distunguish them from <code>sin(x)</code>, <i>etc.,</i> in the math expression parser.
</li>

</ul>

<li>The function can include <code>pi</code> (or <code>Pi</code> or <code>PI</code>) for the number &pi;.
</li>

<li>Exponential notation: numbers can have &quot;<code>e</code>&quot; or &quot;<code>E</code>&quot; for powers of ten such as <code>1.4e3</code> for <code>1400</code>.
</li>

<li>Extra spaces in the function are ignored.
</li>

</ul>


<p class="links">
<a href="../index.html">Home</a> &rarr;
<a href="index.html#feacontents">FEA XML File Contents</a> /

<a href="index.html#contents">MPM XML File Contents</a>
</p>

</body>

</html>